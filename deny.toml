# cargo-deny configuration for Fulgurant
# https://embarkstudios.github.io/cargo-deny/

# ============================================================================
# Licenses
# ============================================================================
[licenses]
# List of licenses that are allowed
allow = [
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "MIT",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "ISC",
    "Zlib",
    "Unicode-DFS-2016",
    "Unicode-3.0",
    "CC0-1.0",
    "MPL-2.0",
    "0BSD",
    "NCSA",
    "CDLA-Permissive-2.0",
    "OpenSSL",  # Required by aws-lc-sys (rustls crypto backend)
]

# Confidence threshold for license detection (0.0 to 1.0)
confidence-threshold = 0.8

# Allow licenses that are exceptions (e.g., font licenses)
exceptions = [
    # Add any specific crate exceptions here if needed
    # { allow = ["SOME-LICENSE"], name = "crate-name" },
]

# ============================================================================
# Security Advisories
# ============================================================================
[advisories]
# The path where advisory databases are stored
db-path = "~/.cargo/advisory-db"

# The url(s) of the advisory databases to use
db-urls = ["https://github.com/rustsec/advisory-db"]

# Warn on yanked crates
yanked = "warn"

# List of advisory IDs to ignore
ignore = [
    # Add any specific advisories to ignore here if needed
]

# Check unmaintained crates in transitive dependencies
unmaintained = "all"

# ============================================================================
# Banned Dependencies
# ============================================================================
[bans]
# Warn on multiple versions of the same crate
multiple-versions = "warn"

# Warn on wildcard dependencies (dependencies without a version constraint)
wildcards = "allow"

# List of crates that are allowed to have multiple versions
skip = [
    # Add crates here that are OK to have multiple versions
]

# List of explicitly banned crates
deny = [
    # Add any crates you want to ban here
]

# ============================================================================
# Sources
# ============================================================================
[sources]
# Allow crates from crates.io
unknown-registry = "deny"

# Allow git sources
unknown-git = "warn"

# List of allowed git sources
allow-git = [
    "https://github.com/fulgur-app/Fulgur-common.git",
]
