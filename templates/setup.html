{% extends "layout.html" %}

{% block title %}Initial Setup{% endblock %}

{% block head %}
    <style>
        .start-over {
            margin-top: 1rem;
        }
        .password-requirements {
            font-size: 0.85rem;
            color: var(--muted-color);
            margin-top: 0.5rem;
            margin-bottom: 0.75rem;
        }
        .setup-info {
            margin-bottom: 1.5rem;
        }
        .setup-info p {
            font-size: 0.85rem;
        }
        .setup-info h4 {
            font-size: 1.25rem;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="login-container">
        <div class="login-card">
            <article>
                <header>
                    <h2>Initial Setup</h2>
                    <div>Create the first admin account</div>
                </header>

                <div class="setup-info">
                    <h4>Welcome to Fulgurant!</h4>
                    <p>No admin user exists yet. Please create the initial admin account to get started.</p>
                    <p>This account will have full administrative privileges and will be automatically marked asverified.</p>
                </div>

                {% if error_message != "" %}
                    <div class="error-message" role="alert">{{ error_message }}</div>
                {% endif %}
                <form id="setup-form" method="POST" action="/setup">
                    <label for="email">
                        Email
                        <input type="email" id="email" name="email" required autocomplete="email" placeholder="admin@example.com" value="{{ email }}" autofocus />
                    </label>
                    <label for="first_name">
                        First Name
                        <input type="text" id="first_name" name="first_name" required autocomplete="given-name" placeholder="John" value="{{ first_name }}" />
                    </label>
                    <label for="last_name">
                        Last Name
                        <input type="text" id="last_name" name="last_name" required autocomplete="family-name" placeholder="Doe" value="{{ last_name }}" />
                    </label>
                    <label for="password">
                        Password
                        <div class="password-requirements">Minimum 8 characters, at least one uppercase letter, one lowercase letter, one number and one special character</div>
                        <input type="password" id="password" name="password" required autocomplete="new-password" minlength="8" />
                    </label>
                    <button type="submit">Create Admin Account</button>
                </form>
            </article>
        </div>
    </div>
{% endblock %}
