<tr class="user-row" id="user-{{ display_user.id }}">
	<td class="user-cell">{{ display_user.id }}</td>
	<td class="user-cell">{{ display_user.email }}</td>
	<td class="user-cell">{{ display_user.first_name }}</td>
	<td class="user-cell">{{ display_user.last_name }}</td>
	<td class="user-cell">{{ display_user.shares }}</td>
	<td class="user-cell">{{ display_user.is_email_verified() }}</td>
	<td class="user-cell">{{ display_user.role }}</td>
	<td class="user-cell">
		<span data-tooltip="{{ display_user.created_at }}"
			>{{ display_user.get_short_creation_date() }}</span
		>
	</td>
	{% if display_user.get_short_last_activity_date() != "Never" %}
	<td class="user-cell">
		<span data-tooltip="{{ display_user.last_activity }}"
			>{{ display_user.get_short_last_activity_date() }}</span
		>
	</td>
	{% else %}
	<td class="user-cell">Never</td>
	{% endif %}
	<td>
		{% if display_user.id != user.user_id %}
		<div class="actions" role="group">
			<button
				class="action-button secondary"
				hx-delete="/user/{{ display_user.id }}"
				hx-target="#user-{{ display_user.id }}"
				hx-swap="outerHTML swap:0.5s"
				hx-confirm="Are you sure you want to delete this user?"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<path d="M18 6 6 18" />
					<path d="m6 6 12 12" />
				</svg>
			</button>
			<button
				class="action-button secondary"
				hx-post="/user/{{ display_user.id }}/change-role"
				hx-target="#user-{{ display_user.id }}"
				hx-swap="outerHTML"
				hx-on::before-request="
                    document.querySelectorAll('.user-inline-form').forEach(el => el.remove());
                "
				hx-confirm="Are you sure you want to change the user's role to {{ display_user.toggle_role() }}?"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
					class="lucide lucide-user-pen-icon lucide-user-pen"
				>
					<path d="M11.5 15H7a4 4 0 0 0-4 4v2" />
					<path
						d="M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"
					/>
					<circle cx="10" cy="7" r="4" />
				</svg>
			</button>
		</div>
		{% else %}
		<div class="actions" role="group">
			<button class="action-button secondary" disabled>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<path d="M18 6 6 18" />
					<path d="m6 6 12 12" />
				</svg>
			</button>
			<button class="action-button secondary" disabled>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
					class="lucide lucide-user-pen-icon lucide-user-pen"
				>
					<path d="M11.5 15H7a4 4 0 0 0-4 4v2" />
					<path
						d="M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"
					/>
					<circle cx="10" cy="7" r="4" />
				</svg>
			</button>
		</div>
		{% endif %}
	</td>
</tr>
