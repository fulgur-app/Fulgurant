<tr class="device-row" id="device-{{ device.id }}">
    <td class="device-cell">{{ device.name }}</td>
    <td class="device-cell">{{ device.device_type }}</td>
    <td class="device-cell">{{ device.get_created_at_formatted() }}</td>
    <td class="device-cell">{{ device.get_updated_at_formatted() }}</td>
    <td>{{ device.get_expires_at_formatted() }}</td>
    <td>
        <div class="actions" role="group">
            <button 
                class="action-button secondary"
                hx-delete="/device/{{ device.id }}" 
                hx-target="#device-{{ device.id }}"
                hx-swap="outerHTML swap:0.5s"
                hx-confirm="Are you sure you want to delete this device?">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    >
                    <path d="M18 6 6 18" />
                    <path d="m6 6 12 12" />
                </svg>
            </button>
            <button 
                class="action-button secondary"
                hx-get="/device/{{ device.id }}/edit" 
                hx-target="#device-{{ device.id }}"
                hx-swap="outerHTML">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    >
                    <path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z" />
                    <path d="m15 5 4 4" />
                </svg>
            </button>
            <button 
                class="action-button"
                hx-get="/device/{{ device.id }}/edit" 
                hx-target="#device-{{ device.id }}"
                hx-swap="outerHTML">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    >
                    <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
                    <path d="M21 3v5h-5" />
                    <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
                    <path d="M8 16H3v5" />
                </svg>

            </button>
        </div>
    </td>
</tr>
<tr>
    <td colspan="6" class="device-api-key">
        <div class="api-key-container">
            <div class="api-key-display">
                <div>Your API key is: </div>
                <code class="api-key-value">{{ api_key }}</code>
                <button class="action-button contrast" onclick="copyApiKey(this)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" 
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                        <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
                    </svg>
                </button>
            </div>
            <div>
                This API key is used to authenticate your device. 
                <strong>It will not be displayed again!</strong> Keep it secret and safe.
            </div>
        </div>
    </td>
</tr>